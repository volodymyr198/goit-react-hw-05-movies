"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[653],{913:function(e,r,t){t.d(r,{Df:function(){return c},M1:function(){return f},TP:function(){return i},gH:function(){return o},tx:function(){return p}});var n=t(861),a=t(757),s=t.n(a),u=t(912).Z.create({baseURL:"https://api.themoviedb.org/3",params:{api_key:"c4470790ebbe8d3413f4b160c59323f6"}}),c=function(){var e=(0,n.Z)(s().mark((function e(){var r,t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/trending/movie/day",e.next=3,u.get("/trending/movie/day");case 3:return r=e.sent,t=r.data,e.abrupt("return",t.results);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),i=function(){var e=(0,n.Z)(s().mark((function e(r){var t,n,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="/movie/".concat(r),e.next=3,u.get(t);case 3:return n=e.sent,a=n.data,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),o=function(){var e=(0,n.Z)(s().mark((function e(r){var t,n,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="/search/movie?query=".concat(r),e.next=3,u.get(t);case 3:return n=e.sent,a=n.data,e.abrupt("return",a.results);case 6:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),f=function(){var e=(0,n.Z)(s().mark((function e(r){var t,n,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="/movie/".concat(r,"/credits"),e.next=3,u.get(t);case 3:return n=e.sent,a=n.data,e.abrupt("return",a.cast);case 6:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),p=function(){var e=(0,n.Z)(s().mark((function e(r){var t,n,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="/movie/".concat(r,"/reviews"),e.next=3,u.get(t);case 3:return n=e.sent,a=n.data,e.abrupt("return",a.results);case 6:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()},653:function(e,r,t){t.r(r),t.d(r,{default:function(){return Z}});var n=t(683),a=t(861),s=t(439),u=t(757),c=t.n(u),i=t(791),o=t(87),f=t(689),p=t(828),l=t(728),v=t(913),h="Movies_wrapper__vWoXg",m="Movies_searchForm__S-9T7",d="Movies_searchForm__input__F1TpI",_="Movies_searchForm__btn__9OVw8",x="Movies_search__item__mdV+b",g="Movies_svg__zR8LH",w="Movies_default__TdL52",b=t(184),Z=function(){var e=(0,i.useState)({items:[],loading:!1,error:null}),r=(0,s.Z)(e,2),t=r[0],u=r[1],Z=(0,o.lr)(),k=(0,s.Z)(Z,2),y=k[0],j=k[1],M=y.get("query"),N=(0,i.useState)((function(){return M||""})),S=(0,s.Z)(N,2),T=S[0],q=S[1],C=(0,f.TH)();(0,i.useEffect)((function(){var e=function(){var e=(0,a.Z)(c().mark((function e(){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u((function(e){return(0,n.Z)((0,n.Z)({},e),{},{loading:!0})})),e.next=4,(0,v.gH)(M);case 4:r=e.sent,u((function(e){return(0,n.Z)((0,n.Z)({},e),{},{items:r})})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),u((function(r){return(0,n.Z)((0,n.Z)({},r),{},{error:e.t0})}));case 11:return e.prev=11,u((function(e){return(0,n.Z)((0,n.Z)({},e),{},{loading:!1})})),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(){return e.apply(this,arguments)}}();M&&e()}),[M]);var F=t.items,H=t.loading,L=t.error,D=F.map((function(e){var r=e.id,t=e.original_title;return(0,b.jsxs)("li",{className:x,children:[(0,b.jsx)(l.$kb,{className:g}),(0,b.jsx)(o.rU,{state:{from:C},to:"/movies/".concat(r),children:t})]},r)}));return(0,b.jsxs)("div",{className:h,children:[(0,b.jsxs)("form",{onSubmit:function(e){e.preventDefault(),T.trim()&&j({query:T})},className:m,autoComplete:"off",children:[(0,b.jsx)("input",{className:d,onChange:function(e){var r=e.target;q(r.value)},type:"text",name:"search",value:T,placeholder:"Search Movies",required:!0}),(0,b.jsx)("button",{className:_,type:"sabmit",children:(0,b.jsx)(p.Yfv,{})})]}),T&&F.length>0&&!H&&!L&&(0,b.jsx)("ul",{children:D}),H&&(0,b.jsx)("p",{className:w,children:"...load movies"}),L&&(0,b.jsx)("p",{className:w,children:"...Movies load filed"}),0===F.length&&M&&!H&&!L&&(0,b.jsx)("p",{className:w,children:"Sorry, there is nothing with the title - ".concat(M,"!")})]})}}}]);
//# sourceMappingURL=653.ad2ad858.chunk.js.map